<% if (typeof success !== 'undefined' && success) { %>
  <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4">
    <strong class="font-bold">Success!</strong>
    <span class="block sm:inline">Your registration has been completed successfully.</span>
    <div class="mt-4">
      <p class="mb-4">Please proceed to payment to secure your spot in Module <%= moduleNumber %>:</p>
      <a href="<%= paymentLink %>" 
         class="px-8 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition duration-300">
         Proceed to Payment
      </a>
    </div>
  </div>
<% } else { %>
  <h1 class="font-pf">REGISTER FOR THE LEADERSHIP VOICE MASTERCLASS</h1>
  <% if (errors && errors.length > 0) { %>
    <div class="mb-4">
      <ul class="text-red-500">
        <% errors.forEach(function(error) { %>
          <li><%= error %></li>
        <% }) %>
      </ul>
    </div>
  <% } %>
  <form action="/register" method="POST" class="mt-4" onsubmit="return validateForm()">
    <div class="mb-6">
      <label class="block text-gray-400 mb-2">Select Module</label>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <label class="flex items-center space-x-3 p-4 border rounded cursor-pointer hover:border-white">
          <input type="radio" name="moduleNumber" value="1" required class="form-radio">
          <span class="text-white">Module 1</span>
        </label>
        <label class="flex items-center space-x-3 p-4 border rounded cursor-pointer hover:border-white">
          <input type="radio" name="moduleNumber" value="2" required class="form-radio">
          <span class="text-white">Module 2</span>
        </label>
        <label class="flex items-center space-x-3 p-4 border rounded cursor-pointer hover:border-white">
          <input type="radio" name="moduleNumber" value="3" required class="form-radio">
          <span class="text-white">Module 3</span>
        </label>
      </div>
    </div>
    <div class="mb-4">
      <label for="firstName" class="block text-gray-400">First Name</label>
      <input type="text" id="firstName" name="firstName" required class="border rounded px-3 py-2 w-full" onblur="validateField(this)">
    </div>
    <div class="mb-4">
      <label for="lastName" class="block text-gray-400">Last Name</label>
      <input type="text" id="lastName" name="lastName" required class="border rounded px-3 py-2 w-full" onblur="validateField(this)">
    </div>
    <div class="mb-4">
      <label for="email" class="block text-gray-400">Email</label>
      <input type="email" id="email" name="email" required class="border rounded px-3 py-2 w-full" onblur="validateEmail(this)">
    </div>
    <div class="mb-4">
      <label for="phone" class="block text-gray-400">Phone Number</label>
      <input type="tel" id="phone" name="phone" required class="border rounded px-3 py-2 w-full" onblur="validatePhone(this)" pattern="^\+\d{1,3}\d{1,14}$">
    </div>
    <div class="mb-4">
      <label for="company" class="block text-gray-400">Company Name</label>
      <input type="text" id="company" name="company" required class="border rounded px-3 py-2 w-full" onblur="validateField(this)">
    </div>
    <div class="mb-4">
      <label for="role" class="block text-gray-400">Role</label>
      <input type="text" id="role" name="role" required class="border rounded px-3 py-2 w-full" onblur="validateField(this)">
    </div>
    <div class="mb-4">
      <label for="address" class="block text-gray-400">Address</label>
      <input type="text" id="address" name="address" required class="border rounded px-3 py-2 w-full" onblur="validateField(this)">
    </div>
    <div class="mb-4">
      <label for="country" class="block text-gray-400">Country</label>
      <input type="text" id="country" name="country" required class="border rounded px-3 py-2 w-full" onblur="validateField(this)">
    </div>
    <button type="submit" class="px-8 py-2 bg-blue-500 text-white rounded">REGISTER</button>
  </form>
<% } %>